function Collision(){  s_collisionSide = "";};Collision.getCollisionSide = function(){  return s_collisionSide;}Collision.block = function(ige1, ige2){  var ige1hw = ige1.getWidth() / 2;  var ige2hw = ige2.getWidth() / 2;  var hoffset = Math.abs((ige1.getx() + ige1hw) - (ige2.getx() + ige2hw));  //console.log(ige1hw, ige2hw, hoffset);  if(hoffset >= ige1hw + ige2hw)  {    //no vertical overlap    s_collisionSide = "";    return false;  }  var ige1hh = ige1.getHeight() / 2;  var ige2hh = ige2.getHeight() / 2;  var voffset = Math.abs((ige1.gety() + ige1hh) - (ige2.gety() + ige2hh));  if(voffset >= ige1hh + ige2hh)  {    //no horizontal overlap    s_collisionSide = "";    return false;  }    var xadjust = 0;      // REWRITE ENTIRE CODE  this.contains  & This.intersects        if(ige1.getvx() > 0)  {    //Collision on the left side of ige2    s_collisionSide = "left";	ige1.setvy(0);    xadjust = ige2.getx() - (ige1.getx() + ige1.getWidth());  }    if(ige1.getx() < ige2.getx() + ige2.getWidth())  {    //Collision on the right side of ige2    s_collisionSide = "right";	ige1.setvy(0);    xadjust = (ige2.getx() + ige2.getWidth()) - ige1.getx();  }    var yadjust = 0;    if(ige1.gety() + ige1.getHeight() > ige2.gety())  {    //Collision on top    s_collisionSide = "top";    yadjust = ige2.gety() - (ige1.gety() + ige1.getHeight());	ige1.setvy(0);	ige1.setOnGround(true);	  }    //if(ige1.getvy() < 0) if(ige1.gety() > ige2.gety() && ige1.gety() < ige2.getHeight() + ige2.gety())  {    //Collision on bottom    s_collisionSide = "bottom";    yadjust = (ige2.gety() + ige2.getHeight()) - ige1.gety();	ige1.setvy(1);  }      if(xadjust && yadjust)  {    //which direction takes precendence?    if(Math.abs(xadjust) < Math.abs(yadjust))    {      yadjust = 0;    }    else    {      xadjust = 0;    }  }        if(xadjust !== 0)  {    ige1.setx(ige1.getx() + xadjust);  }      if(yadjust !== 0)  {      ige1.sety(ige1.gety() + yadjust);  }    return true;};Collision.ground = function(ige1, ige2){  var ige1hw = ige1.getWidth() / 2;  var ige2hw = ige2.getWidth() / 2;  var hoffset = Math.abs((ige1.getx() + ige1hw) - (ige2.getx() + ige2hw));  //console.log(ige1hw, ige2hw, hoffset);  if(hoffset >= ige1hw + ige2hw)  {    //no vertical overlap    s_collisionSide = "";    return false;  }  var ige1hh = ige1.getHeight() / 2;  var ige2hh = ige2.getHeight() / 2;  var voffset = Math.abs((ige1.gety() + ige1hh) - (ige2.gety() + ige2hh));  if(voffset >= ige1hh + ige2hh)  {    //no horizontal overlap    s_collisionSide = "";    return false;  }  var previousPosition = new Vector2(ige1.getx(), ige1.gety());  var xadjust = 0;      // REWRITE ENTIRE CODE  this.contains  & This.intersects        if(ige1.getx() + ige1.getWidth() > ige2.getx())  {    //Collision on the left side of ige2    s_collisionSide = "left";	//ige1.setvx(0);	//ige1.setvy(0);    ige1.setx(previousPosition.x);	xadjust = ige2.getx() - (ige1.getx() + ige1.getWidth());	  }    if(ige1.getx() < ige2.getx() + ige2.getWidth())  {    //Collision on the right side of ige2    s_collisionSide = "right";	ige1.setvy(0);    xadjust = (ige2.getx() + ige2.getWidth()) - ige1.getx();  }    var yadjust = 0;    if(ige1.gety() + ige1.getHeight() > ige2.gety())  {    //Collision on top    s_collisionSide = "top";    yadjust = ige2.gety() - (ige1.gety() + ige1.getHeight());				if(ige1.getCurrentKey() == "" || ige1.getCurrentKey() == "down" && ige2.getshipDrive() == true)			{				ige1.setvx(-0.4);			}		if(ige2.getshipDrive() == false && ige1.getCurrentKey() == "") 			{				ige1.setvx(0);			}	ige1.setOnGround(true);	  }    //if(ige1.getvy() < 0) if(ige1.gety() > ige2.gety() + ige2.getHeight() )  {    //Collision on bottom    s_collisionSide = "bottom";    yadjust = (ige2.gety() + ige2.getHeight()) - ige1.gety();	ige1.setvy(1);  }      if(xadjust && yadjust)  {    //which direction takes precendence?    if(Math.abs(xadjust) < Math.abs(yadjust))    {      yadjust = 0;    }    else    {      xadjust = 0;    }  }        if(xadjust !== 0)  {    ige1.setx(ige1.getx() + xadjust);  }      if(yadjust !== 0)  {      ige1.sety(ige1.gety() + yadjust);  }    return true;};Collision.pickup = function(ige1, ige2){  var ige1hw = ige1.getWidth() / 2;  var ige2hw = ige2.getWidth() / 2;  var hoffset = Math.abs((ige1.getx() + ige1hw) - (ige2.getx() + ige2hw));  //console.log(ige1hw, ige2hw, hoffset);  if(hoffset >= ige1hw + ige2hw)  {    //no vertical overlap    s_collisionSide = "";    return false;  }  var ige1hh = ige1.getHeight() / 2;  var ige2hh = ige2.getHeight() / 2;  var voffset = Math.abs((ige1.gety() + ige1hh) - (ige2.gety() + ige2hh));  if(voffset >= ige1hh + ige2hh)  {    //no horizontal overlap    s_collisionSide = "";    return false;  }    var xadjust = 0;    if(ige1.getvx() > 0)  {    //Collision on the left side of ige2    s_collisionSide = "left";  //  xadjust = ige2.getx() - (ige1.getx() + ige1.getWidth());  }    if(ige1.getvx() < 0)  {    //Collision on the right side of ige2    s_collisionSide = "right";  //  xadjust = (ige2.getx() + ige2.getWidth()) - ige1.getx();  }    var yadjust = 0;    if(ige1.getvy() > 0)  {    //Collision on top    s_collisionSide = "top";   // yadjust = ige2.gety() - (ige1.gety() + ige1.getHeight());	//ige1.setvy(0);//	ige1.setOnGround(true);	  }    //if(ige1.getvy() < 0) if(ige1.gety() > ige2.gety() && ige1.gety() < ige2.getHeight() + ige2.gety())  {    //Collision on bottom    s_collisionSide = "bottom";  //  yadjust = (ige2.gety() + ige2.getHeight()) - ige1.gety();	//ige1.setvy(1);  }      if(xadjust && yadjust)  {    //which direction takes precendence?    if(Math.abs(xadjust) < Math.abs(yadjust))    {      yadjust = 0;    }    else    {      xadjust = 0;    }  }        if(xadjust !== 0)  {    ige1.setx(ige1.getx() + xadjust);  }      if(yadjust !== 0)  {      ige1.sety(ige1.gety() + yadjust);  }    return true;};Collision.ball = function(ige1, ige2){  var ige1hw = ige1.getWidth() / 2;  var ige2hw = ige2.getWidth() / 2;  var hoffset = Math.abs((ige1.getx() + ige1hw) - (ige2.getx() + ige2hw));  //console.log(ige1hw, ige2hw, hoffset);  if(hoffset >= ige1hw + ige2hw)  {    //no vertical overlap    s_collisionSide = "";    return false;  }  var ige1hh = ige1.getHeight() / 2;  var ige2hh = ige2.getHeight() / 2;  var voffset = Math.abs((ige1.gety() + ige1hh) - (ige2.gety() + ige2hh));  if(voffset >= ige1hh + ige2hh)  {    //no horizontal overlap    s_collisionSide = "";    return false;  }    var xadjust = 0;      // REWRITE ENTIRE CODE  this.contains  & This.intersects        if(ige1.getvx() > 0)  {    //Collision on the left side of ige2    s_collisionSide = "left";	ige1.setvy(0);    xadjust = ige2.getx() - (ige1.getx() + ige1.getWidth());  }    if(ige1.getx() < ige2.getx() + ige2.getWidth())  {    //Collision on the right side of ige2    s_collisionSide = "right";	ige1.setvy(0);    xadjust = (ige2.getx() + ige2.getWidth()) - ige1.getx();  }    var yadjust = 0;  var BulletSFX = $("#BulletSFX").get(0);  if(ige1.gety() + ige1.getHeight() > ige2.gety())  {    //Collision on top    s_collisionSide = "top";    yadjust = ige2.gety() - (ige1.gety() + ige1.getHeight());	ige1.setvy(0);	ige1.setScore(100);	if(EnemyDie.paused)	{			EnemyDie.currentTime = 0;			EnemyDie.play();	};	ige1.setOnGround(true);	ige2.setDead(true);	  }    //if(ige1.getvy() < 0) if(ige1.gety() > ige2.gety() && ige1.gety() < ige2.getHeight() + ige2.gety())  {    //Collision on bottom    s_collisionSide = "bottom";    yadjust = (ige2.gety() + ige2.getHeight()) - ige1.gety();	ige1.setvy(1);  }      if(xadjust && yadjust)  {    //which direction takes precendence?    if(Math.abs(xadjust) < Math.abs(yadjust))    {      yadjust = 0;    }    else    {      xadjust = 0;    }  }        if(xadjust !== 0)  {    ige1.setx(ige1.getx() + xadjust);  }      if(yadjust !== 0)  {      ige1.sety(ige1.gety() + yadjust);  }    return true;};